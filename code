import csv
import requests

def fetch_data(api_url):
    """Fetch JSON data from an API."""
    try:
        response = requests.get(api_url)
        response.raise_for_status()
        return response.json()
    except requests.RequestException as e:
        print(f"Error fetching data: {e}")
        return None
def save_to_csv(data, filename):
    """Save JSON data to a CSV file."""
    with open(filename, mode='w', newline='') as file:
        writer = csv.writer(file)
        writer.writerow(data[0].keys())  # Write headers
        for row in data:
            writer.writerow(row.values())  # Write data rows
